public class CorrespondenceController {

    private final CorrespondenceService correspondenceService;
    private final MailDocumentService mailDocumentService;

    CorrespondenceController(final CorrespondenceService correspondenceService, MailDocumentService mailDocumentService) {
        this.correspondenceService = correspondenceService;
        this.mailDocumentService = mailDocumentService;
    }

    @GetMapping("/correspondence")
    public CorrespondenceResponse getCorrespondenceDoc(@RequestHeader HttpHeaders httpHeaders) {
        log.info("http headers {}", httpHeaders.toSingleValueMap());
        return correspondenceService.getCorrespondenceDocs(httpHeaders.toSingleValueMap());
    }

    @PostMapping("/mailit")
    public DocumentData getDocumentData(@RequestParam("messageId") String messageId, @RequestParam("documentId") String documentId) throws IOException {
        return mailDocumentService.getDocument(messageId, documentId);
    }
}
